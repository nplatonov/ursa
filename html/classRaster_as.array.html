<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Export raster object to multidimensional array</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="file:///C:/Software/R/doc/html/R.css" />
</head><body>

<table width="100%" summary="page for as.array"><tr><td>as.array</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Export raster object to multidimensional array
</h2>

<h3>Description</h3>

<p>In the <code>ursaRaster</code> object the 3-dimensional image data are presented in 2-dimensional matrix. <code>as.array</code> transforms internal 2-dimensional data to the usual 3-dimansional data. <code>as.matrix</code> just extracts image data in internal 2-dimensional format.

</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'ursaRaster'
as.array(x, ...)

## non-public
.as.array(x, drop = FALSE, flip = FALSE, permute = FALSE, dim = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>

<p>Arguments, which are passed to <code>.as.array</code>.
</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>

<p><code>ursaRaster</code> object
</p>
</td></tr>
<tr valign="top"><td><code>drop</code></td>
<td>

<p>Logical. If <code>drop=TRUE</code> then single-band images are presented without third dimension.
</p>
</td></tr>
<tr valign="top"><td><code>permute</code></td>
<td>

<p>Logical. If <code>permute=FALSE</code> then returned array has dimension <em>(samples, lines, bands)</em>. If <code>permute=TRUE</code> then returned array has dimension <em>(lines, samples, bands)</em>.
</p>
</td></tr>
<tr valign="top"><td><code>flip</code></td>
<td>

<p>Logical. If <code>flip=TRUE</code> then vertical flip (reverse coordinates for dimension #2) is applied for output image. 
</p>
</td></tr>
<tr valign="top"><td><code>dim</code></td>
<td>

<p>Logical. If <code>dim=TRUE</code> then array's dimension is returned.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>permute=TRUE</code> to create an object of class <code><a href="../../grDevices/html/as.raster.html">raster</a></code>: <code>as.raster(as.array(...))</code>
</p>
<p>The spatial reference system is lost.
</p>


<h3>Value</h3>

<p>If <code>dim=FALSE</code> then <code>as.array</code> returns object of class <code><a href="../../base/html/array.html">array</a></code>.<br />
If <code>dim=TRUE</code> then <code>as.array</code> returns dimension of array.
<br />
<code>as.matrix</code> returns object of class <code><a href="../../base/html/matrix.html">matrix</a></code>.
</p>


<h3>Author(s)</h3>

<p>Nikita Platonov <a href="mailto:platonov@sevin.ru">platonov@sevin.ru</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../ursa/html/classRaster_as.raster.html">as.raster</a></code> is a function to direct export to the object of class <code><a href="../../grDevices/html/as.raster.html">raster</a></code>.
<br />
<code><a href="../../ursa/html/classRaster_as.matrix.html">as.matrix</a></code> with argument/value <code>coords=TRUE</code> and <code><a href="../../ursa/html/classRaster_as.data.frame.html">as.data.frame</a></code> for object of class <code>ursaRaster</code> keep spatial reference system.
</p>


<h3>Examples</h3>

<pre>
session_grid(NULL)
a &lt;- pixelsize()
a &lt;- (a-global_min(a))/(global_max(a)-global_min(a))
b &lt;- c(entire=a,half=a/2,double=a*2)
str(m &lt;- as.matrix(b))
str(d1 &lt;- as.array(b))
str(d2 &lt;- as.array(b[1],drop=FALSE))
str(d3 &lt;- as.array(b[1],drop=TRUE))
contour(d3)
filled.contour(d3)
d4 &lt;- as.array(b,perm=TRUE)/global_max(b)
d4[is.na(d4)] &lt;- 0
str(d4 &lt;- as.raster(d4))
plot(d4)
</pre>


</body></html>
