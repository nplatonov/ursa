<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add coastline to the image panel.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="file:///C:/Software/R/doc/html/R.css" />
</head><body>

<table width="100%" summary="page for panel.coastline"><tr><td>panel.coastline</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Add coastline to the image panel.
</h2>

<h3>Description</h3>

<p><code>panel.coastline</code> puts a coastline to the active panel of layout with optional land shadowing. The package provides data for coastline.
</p>


<h3>Usage</h3>

<pre>
compose.coastline(...)

panel.coastline(...)

# not public
.compose.coastline(obj = NULL, panel = 0, col = NA, fill = "transparent",
                    detail = NA, density = NA, angle = NA, land = FALSE,
                    lwd = 0.5, lty = 1, fail180 = NA, verbose = FALSE)

# not public
.panel.coastline(obj, verbose = FALSE)

</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>
<p>Set of argumetns, which are recognized via their names (using <a href="../../base/html/regex.html">regular expressions</a>) and classes:
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;">
          <em>Matched pattern</em> </td><td style="text-align: left;"> <em>Used name</em> </td><td style="text-align: left;"> <em>Description</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>coast(line)*</code> </td><td style="text-align: left;">  </td><td style="text-align: left;">
          Logical or integer. Responsible for should coastline be displayed or not. If integer, the indicates panel index for coastline displaying. If <code>TRUE</code> then coastline is plotted. If <code>FALSE</code> then coastline is not displayed. Default is <code>TRUE</code>.
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>(obj)*</code> </td><td style="text-align: left;"> <code>obj</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>panel</code> </td><td style="text-align: left;"> <code>panel</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>fill</code> </td><td style="text-align: left;"> <code>fill</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>detail</code> </td><td style="text-align: left;"> <code>detail</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>density</code> </td><td style="text-align: left;"> <code>density</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>angle</code> </td><td style="text-align: left;"> <code>angle</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>land</code> </td><td style="text-align: left;"> <code>land</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>lwd</code> </td><td style="text-align: left;"> <code>lwd</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>lty</code> </td><td style="text-align: left;"> <code>lty</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>fail180</code> </td><td style="text-align: left;"> <code>fail180</code> </td><td style="text-align: left;"> <em>See below.</em>
          </td>
</tr>
<tr>
 <td style="text-align: left;"><code>verb(ose)*</code> </td><td style="text-align: left;"> <code>verbose</code> </td><td style="text-align: left;"> <em>See below.</em>
      </td>
</tr>

</table>

</td></tr>
<tr valign="top"><td><code>obj</code></td>
<td>
<p>Objects of the one of the classes <code><a href="../../sp/html/Spatial-class.html">Spatial</a></code>, <code><a href="../../sf/html/sfc.html">sfc</a></code>, <code>rmapCoastLine</code>. The last one is internal structure, which is returned by function <code>.compose.coastline</code>.</p>
</td></tr>
<tr valign="top"><td><code>panel</code></td>
<td>
<p>Integer vector. Panel for which coastline will be displayed. <code>0L</code> means that coastline will bw displayed for all panels. Default is <code>0L</code>.</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>Character. Color code/name for coasline. Default is <code>"grey60"</code>.</p>
</td></tr>
<tr valign="top"><td><code>fill</code></td>
<td>
<p>Character. Color code/name for land masking/shadowing. Default is <code>"transapent"</code>.</p>
</td></tr>
<tr valign="top"><td><code>detail</code></td>
<td>
<p>Character keyword. The categorical spatial resolution for coastline. Valid values are <code>"l"</code> (low), <code>"m"</code> (medium), <code>"h"</code> (high), <code>"f"</code> (full). If value is <code>NA</code>, then coasline resolution is selected internally. Default is <code>NA</code>.</p>
</td></tr>
<tr valign="top"><td><code>density</code></td>
<td>
<p>Numeric. The density of shading lines for land masking/shadowing. If <code>NA</code> then no shading lines are drawn. Default is <code>NA</code>. See <code>density</code> in <code><a href="../../graphics/html/polygon.html">polygon</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>angle</code></td>
<td>
<p>Numeric. The slope of shading lines, given as an angle in degrees (counter-clockwise). If <code>NA</code> then no shading lines are drawn. Default is <code>NA</code>. See <code>angle</code> in <code><a href="../../graphics/html/polygon.html">polygon</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>land</code></td>
<td>
<p>Logical. If <code>TRUE</code> then map's accent is to land, and ocean is masked/shadowed. If <code>FALSE</code> then map's accent is to ocean, and land is masked/shadowed. Default is <code>FALSE</code>.</p>
</td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
<p>Positive numeric. Width of coastline. Default is <code>1</code>. See <code>lwd</code> in <code><a href="../../graphics/html/par.html">par</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>lty</code></td>
<td>
<p>Positive integer. Type (pattern) of coasltline. Default is <code>1L</code> (solid). See <code>lty</code> in <code><a href="../../graphics/html/par.html">par</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>fail180</code></td>
<td>
<p>Logical. Patch for correct plotof poligons crossing 180 degree longitude. <code>NA</code> means than decision is taken intuitively. <code>TRUE</code> forces to implement crossing og 180 degree longitude. <code>FALSE</code> forces to not implement crossing og 180 degree longitude. Default is <code>NA</code>.</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>Logical. Value <code>TRUE</code> may provide some additional information on console. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>compose.coastline</code> forms an obect of class <code>rmapCoastLine</code>. <code>panel.coastline</code> displays object of class <code>rmapCoastLine</code>. It is expected higher performance for multi-panel plotting.
</p>
<p>If <code>obj</code> is <code>NULL</code> then data are from Self-consistent Hierarchical High-resolution Geography Database (<a href="https://www.soest.hawaii.edu/pwessel/gshhg">GSHHG</a>), Version 2.3.3 (01 November 2014), distributed under the Lesser GNU Public License, Version 3 (29 June 2007). 
</p>
<p>Currently, only <code>detail="l"</code> is implemented. Other values of <code>detail</code> are reserved for supplemental data package (not realised).
</p>
<p>&quot;GSHHS_l_L1.shp&quot; and &quot;GSHHS_l_L5.shp&quot; are combined. The crossing longitude 180 degrees polygons are merged.<br /> The data are in the file <code>system.file("template/coast-l.rds",package="rmap")</code>.
</p>
<p>If <code>detail=NA</code> then te spatial resolution is selected using CRS boundary and resolution using intuitive approach. If package's database cannot supply required detalization, then lower resolution is used.
</p>
<p>Source coastline data in EPSG:4326 are transformed to CRS projection, extracted using <code><a href="../../rmap/html/session.grid.html">session.grid</a></code> function. Coastlines with optional filling of either land or ocean area is interpreted as polygins. If filling is solid (there is no transparency or shading lines (numerical values of arguments <code>density</code> and <code>angle</code>), then coastline plotting is imlemented via <code><a href="../../graphics/html/polypath.html">polypath</a></code> function, otherwise  <code><a href="../../graphics/html/polygon.html">polygon</a></code> function.
</p>


<h3>Value</h3>

<p><code>panel.coastline</code> returns <code>NULL</code>
</p>
<p><code>compose.coastline</code> returns of object of class <code>rmapCoastLine</code>. It is a list:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>coast_xy</code></td>
<td>
<p>Two-column matix of coordinates in the sessional projection. The polygons are separated by <code>c(NA,NA)</code> rows.</p>
</td></tr>
<tr valign="top"><td><code>panel</code></td>
<td>
<p>Integer. Panel for coastline displaying. If <code>0L</code>, then coastline is displayed on each panel.</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>See description of argument <code>col</code>.</p>
</td></tr>
<tr valign="top"><td><code>fill</code></td>
<td>
<p>See description of argument <code>fill</code>.</p>
</td></tr>
<tr valign="top"><td><code>shadow</code></td>
<td>
<p>If filling is semi-transparent, then it is &quot;alpha&quot; of filling color (argument <code>fill</code>).</p>
</td></tr>
<tr valign="top"><td><code>land</code></td>
<td>
<p>See description of argument <code>land</code>.</p>
</td></tr>
<tr valign="top"><td><code>density</code></td>
<td>
<p>See description of argument <code>density</code>.</p>
</td></tr>
<tr valign="top"><td><code>angle</code></td>
<td>
<p>See description of argument <code>angle</code>.</p>
</td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
<p>See description of argument <code>lwd</code>.</p>
</td></tr>
<tr valign="top"><td><code>lty</code></td>
<td>
<p>See description of argument <code>lty</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikita Platonov <a href="mailto:platonov@sevin.ru">platonov@sevin.ru</a>
</p>


<h3>References</h3>

<p>Wessel, P., and W. H. F. Smith, A Global Self-consistent, Hierarchical, High-resolution Shoreline Database, <em>J. Geophys. Res.</em>, <em>101</em>, 8741-8743, 1996.
</p>


<h3>Examples</h3>

<pre>
session.grid(NULL)
a &lt;- pixelsize()
p1 &lt;- colorize(a[a&gt;500],ramp=FALSE,interval=TRUE)
p2 &lt;- colorize(a,ramp=FALSE,pal=colorRampPalette(c("grey40","grey100"))
              ,verbose=!TRUE,interval=TRUE)
compose.open(layout=c(2,2),legend=list(list(1,"right"),list(2,"left")))
for (i in 1:4) {
   panel.new(col=ifelse(i==2,"white",NA))
   if (i %in% c(3,4))
      panel.raster(p1)
   else if (i %in% 2)
      panel.raster(p2)
   if (i==1)
      panel.coastline()
   panel.coastline(coast=4,col="#007F00",fill="lightgreen",land=TRUE)
   panel.coastline(coast=3,col="#0000003F",fill="#0000003F")
   panel.coastline(coast=2,col="black",fill="black",density=20
                   ,angle=c(-45,45),lwd=0.25,detail="l")
  # panel.gridline(decor=4)
   panel.annotation(text=as.character(i))
   if (i==1)
      panel.annotation(pos=c(1,1),text="default")
   else if (i==2)
      panel.annotation(pos=c(0,1),text="greyscale")
   else if (i==3)
      panel.annotation(pos=c(1,1),text="land is shadowed")
   else if (i==4)
      panel.annotation(pos=c(0,1),text="ocean is masked")
}
compose.legend(p2,p1)
compose.close()
</pre>


</body></html>
