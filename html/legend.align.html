<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Align caption position for legend</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="file:///C:/Software/R/doc/html/R.css" />
</head><body>

<table width="100%" summary="page for legend.align"><tr><td>legend.align</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Align caption position for legend
</h2>

<h3>Description</h3>

<p>When multiple panels on the same axis, the different order of values or different units of values may provoke different shifting of values and caption from panels. <code>legend.align</code> repairs it by the taking names of classes of the requred rasters. The function output is for argument <code>aling</code> of <code><a href="../../rmap/html/legend.colorbar.html">legend.colorbar</a></code>.
</p>


<h3>Usage</h3>

<pre>
legend.align(obj)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>obj</code></td>
<td>

<p>Object of class <code>rmapColorTable</code>, or object of class <code>rmapRaster</code>, or list of <code>rmapColorTable</code> or <code>rmapRaster</code> objects.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is defined as:</p>
<pre>
   c(unlist(sapply(obj,function(x) names(rmap.colortable(x)))))</pre>



<h3>Value</h3>

<p>Character vector.
</p>


<h3>Author(s)</h3>

<p>Nikita Platonov <a href="mailto:platonov@sevin.ru">platonov@sevin.ru</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../rmap/html/legend.colorbar.html">legend.colorbar</a></code>
</p>


<h3>Examples</h3>

<pre>
session.grid(NULL)
a &lt;- rmap.dummy(5,mul=1/4,min=-150,max=200)
a[1] &lt;- a[1]*100
a[2] &lt;- -a[2]*10
a[3] &lt;- a[3]/10
a[4] &lt;- a[4]/1000
b &lt;- lapply(a,colorize)
la.top &lt;- legend.align(b[c(1,2)])
la.left &lt;- legend.align(c(b[[1]],b[[3]]))
la.bottom &lt;- legend.align(b[c(3,4)])
la.right &lt;- legend.align(b[c(2,4)])
leg &lt;- vector("list",12)
leg[[1]] &lt;- list("top",2)
leg[[2]] &lt;- list("top",3)
leg[[3]] &lt;- list("bottom",1)
leg[[4]] &lt;- list("bottom",2)
leg[[5]] &lt;- list(2,"left")
leg[[6]] &lt;- list(1,"right")
leg[[7]] &lt;- list(3,"left")
leg[[8]] &lt;- list(2,"right")
leg[[9]] &lt;- list("top",1)
leg[[10]] &lt;- list("bottom",3)
leg[[11]] &lt;- list(1,"left")
leg[[12]] &lt;- list(3,"right")
cl &lt;- compose.design(layout=c(3,3),legend=leg,byrow=TRUE,skip=5)
print(cl)
compose.open(cl)
ct &lt;- compose.panel(b[c(5,1,2,1,4,3,4,5)],decor=FALSE)
L &lt;- 2
Tr &lt;- 2
legend.colorbar(b[1],trim=Tr,las=L,align=la.top,units="top aligned ---&gt;")
legend.colorbar(b[2],trim=Tr,las=L,align=la.top,units="&lt;--- top aligned")
legend.colorbar(b[3],trim=Tr,las=L,align=la.bottom,units="bottom aligned ---&gt;")
legend.colorbar(b[4],trim=Tr,las=L,align=la.bottom,units="&lt;--- bottom aligned")
legend.colorbar(b[1],trim=Tr,las=L,align=la.left,units="&lt;--- left aligned")
legend.colorbar(b[2],trim=Tr,las=L,align=la.right,units="&lt;--- right aligned")
legend.colorbar(b[3],trim=Tr,las=L,align=la.left,units="left aligned ---&gt;")
legend.colorbar(b[4],trim=Tr,las=L,align=la.right,units="right aligned ---&gt;")
legend.colorbar(b[5],trim=Tr,las=L,units=" *** not aligned ***")
legend.colorbar(b[5],trim=Tr,las=L,units=" *** not aligned ***")
legend.colorbar(b[5],trim=Tr,las=L,units=" *** not aligned ***")
legend.colorbar(b[5],trim=Tr,las=L,units=" *** not aligned ***")
compose.close()
</pre>


</body></html>
